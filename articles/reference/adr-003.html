<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference/adr-003">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">ADR-003 | Sonr Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sonr-io.github.io/articles/reference/adr-003"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ADR-003 | Sonr Docs"><meta data-rh="true" name="description" content="Summary"><meta data-rh="true" property="og:description" content="Summary"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sonr-io.github.io/articles/reference/adr-003"><link data-rh="true" rel="alternate" href="https://sonr-io.github.io/articles/reference/adr-003" hreflang="en"><link data-rh="true" rel="alternate" href="https://sonr-io.github.io/articles/reference/adr-003" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bbb29084.css">
<link rel="preload" href="/assets/js/runtime~main.0b530313.js" as="script">
<link rel="preload" href="/assets/js/main.b537a16d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Sonr Docs Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="Sonr Docs Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a class="navbar__item navbar__link" href="/articles/introduction">Learn the Basics</a><a class="navbar__item navbar__link" href="/articles/run-nodes/setup-validator">Run Nodes</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Build Apps</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/articles/highway-sdk/using-cli">Highway SDK</a></li><li><a class="dropdown__link" href="/articles/motor-node/installation">Motor Library</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/articles/reference/adr-overview">ADR Overview</a></li><li><a class="dropdown__link navbar__link--active" href="/articles/reference/adr-001">ADR-001</a></li><li><a class="dropdown__link navbar__link--active" href="/articles/reference/adr-002">ADR-002</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/articles/reference/adr-003">ADR-003</a></li><li><a class="dropdown__link navbar__link--active" href="/articles/reference/adr-004">ADR-004</a></li><li><a class="dropdown__link navbar__link--active" href="/articles/reference/adr-005">ADR-005</a></li><li><a class="dropdown__link navbar__link--active" href="/articles/reference/adr-006">ADR-006</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">API Reference</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/highway">üõ£ Highway API</a></li><li><a class="dropdown__link" href="/blockchain">‚õì Blockchain API</a></li></ul></div><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/reference/adr-overview">ADR Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/reference/adr-001">ADR-001</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/reference/adr-002">ADR-002</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/articles/reference/adr-003">ADR-003</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/reference/adr-004">ADR-004</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/reference/adr-005">ADR-005</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/reference/adr-006">ADR-006</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">ADR-003</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ADR-003: Buckets</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">‚Äã</a></h2><p>Associate data on the Sonr network together with the addition of a new resource type: buckets.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="abstract">Abstract<a class="hash-link" href="#abstract" title="Direct link to heading">‚Äã</a></h2><p>The canonical storage resource inside the Sonr network is the <strong>Bucket</strong> - an encrypted, schemaless, storage container.
By using buckets, developers may leverage a secure and private decentralized storage layer for their applications.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="objectives">Objectives<a class="hash-link" href="#objectives" title="Direct link to heading">‚Äã</a></h2><ul><li>Private and secure storage mechanism</li><li>Support Access Control Lists</li><li>Support CRUD operations for buckets and bucket content</li><li>Support revokation of access</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="use-cases">Use Cases<a class="hash-link" href="#use-cases" title="Direct link to heading">‚Äã</a></h2><ul><li>Store multiple associated files (application assets)</li><li>Store staticly served files</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="concept">Concept<a class="hash-link" href="#concept" title="Direct link to heading">‚Äã</a></h2><p>Conceptually, buckets behave similarly to a key-value store, where the keys are developer-created and mapped one-to-one with a CID.
The content is encrypted using the shared member&#x27;s JWKs (JSON Web Keys).</p><p>Creating and managing buckets require updates to the underlying blockchain.
This includes deleting the bucket, adding new resources, or updating permissions.
The bucket model itself is stored in IPFS, but the CID for the model will be stored on-chain; this significantly reduces the usage of on-chain space.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="bucket-model">Bucket Model<a class="hash-link" href="#bucket-model" title="Direct link to heading">‚Äã</a></h2><p>The model for a bucket, which will be stored in IPFS, is as follows.</p><div class="codeBlockContainer_I0IT language-go= theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-go= codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Bucket struct {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Did string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Label string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IsActive bool</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    EncryptedJwks map[CID]map[PublicKey]EncryptedJWK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Content map[string]CID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type CID string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type PublicKey string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type EncryptedJWK []byte</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="did">DID<a class="hash-link" href="#did" title="Direct link to heading">‚Äã</a></h4><p>A DID which uniquely identifies the bucket.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="label">Label<a class="hash-link" href="#label" title="Direct link to heading">‚Äã</a></h4><p>A label for conveniently referencing the bucket.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="isactive">IsActive<a class="hash-link" href="#isactive" title="Direct link to heading">‚Äã</a></h4><p>Reflects whether or not the bucket is active.
Inactive buckets cannot be modified.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="encryptedjwks">EncryptedJwks<a class="hash-link" href="#encryptedjwks" title="Direct link to heading">‚Äã</a></h4><p>A map that stores the encrypted keys for each party who should have access to the content referenced by a CID.
Each CID entry contains a map of public keys (those of the members being granted access) to the JWK encrypted with that public key (PK). This allows the user to find the JWK they need to decrypt the data found with <code>CID</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="content">Content<a class="hash-link" href="#content" title="Direct link to heading">‚Äã</a></h4><p>Maps developer-defined keys to the CID for content. Content is posted via the APIs described below and can be found again via this map.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="bucket-api">Bucket API<a class="hash-link" href="#bucket-api" title="Direct link to heading">‚Äã</a></h2><p>At a high-level, the supported Bucket operations are:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="createbucketlabel"><code>CreateBucket(label)</code><a class="hash-link" href="#createbucketlabel" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">‚Äã</a></h4><p><code>label (string)</code>
: The label for the bucket. A convenient way to reference the bucket in addition to the generated DID.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description">Description<a class="hash-link" href="#description" title="Direct link to heading">‚Äã</a></h4><p>Provisions a new bucket with the given label. New buckets will be initialized with a corresponding DID and DID Document. The <code>content</code> and <code>encryptedJwks</code> fields will be empty.</p><p>The bucket model itself will be persisted via IPFS, while the DID Document and a record which references the newly created bucket will be stored on-chain.</p><blockquote><p>Data persisted via IPFS will incur a storage cost relative to the size of the data storage.
Additonal costs will be incurred for storing the bucket reference on the chain.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="updatelabeldid-new_label"><code>UpdateLabel(did, new_label)</code><a class="hash-link" href="#updatelabeldid-new_label" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-1">Parameters<a class="hash-link" href="#parameters-1" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The DID of the bucket to update.</p><p><code>new_label (string)</code>
: The new label for the bucket.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-1">Description<a class="hash-link" href="#description-1" title="Direct link to heading">‚Äã</a></h4><p>Updates the label for the given bucket DID. Updating a label requires updating the bucket model in IPFS, which in turn will require an on-chain transaction to update the DID-CID pair.</p><blockquote><p>Data persisted to IPFS as part of an update will incur a storage cost that is linked to the size of the changed files.
IPFS will persist all files, so any files with changes will need to be re-uploaded, as well as the bucket model.
The changes will need to persist to the chain incurring an additional cost.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="addcontentdid-name-encryptedcontent-sharedmembersencryptedkey"><code>AddContent(did, name, encryptedContent, sharedMembersEncryptedKey)</code><a class="hash-link" href="#addcontentdid-name-encryptedcontent-sharedmembersencryptedkey" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-2">Parameters<a class="hash-link" href="#parameters-2" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The did of the bucket to add content to.</p><p><code>name (string)</code>
: The key used to reference the content being added. This will be addressable via DID URL.</p><p><code>encryptedContent (string)</code>
: The content to be added, encrypted with a JWK. The JWK should be one known only to the parties included in <code>sharedMembersEncryptedKeys</code>.</p><p><code>sharedMembersEncryptedKeys (map[string]string)</code>
: A map containing the JWK used for encrypting the content, encrypted with the public key of each party to share with.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-2">Description<a class="hash-link" href="#description-2" title="Direct link to heading">‚Äã</a></h4><p>Adds encrypted content to an existing bucket.
A JWK is used to encrypt the content, and that JWK is encrypted once for every user who should have access to it.
This enables data to be securely stored and access to be securely distributed.</p><blockquote><p>This call will require a new DID-CID pair to be added to the chain and as such will incur a cost.
Additionally, this will charge for the cost of the file storage on IPFS</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="updatecontentdid-name-encryptedcontent-sharedmembersencryptedkeys"><code>UpdateContent(did, name, encryptedContent, sharedMembersEncryptedKeys)</code><a class="hash-link" href="#updatecontentdid-name-encryptedcontent-sharedmembersencryptedkeys" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-3">Parameters<a class="hash-link" href="#parameters-3" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The did of the bucket to update content on.</p><p><code>name (string)</code>
: The key used to reference the content being updated. The updated CID will replace the value found at this name.</p><p><code>encryptedContent (string)</code>
: The new content, encrypted with a JWK. The JWK should be one known only to the parties included in <code>sharedMembersEncryptedKeys</code>.</p><p><code>sharedMembersEncryptedKey (map[string]string)</code>
: A map containing the JWK used for encrypting the content, encrypted with the public key of each party to share with.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-3">Description<a class="hash-link" href="#description-3" title="Direct link to heading">‚Äã</a></h4><p>Updates a bucket&#x27;s content at the given name. The CID generated for the updated content will replace the CID found under <code>name</code> in the content map.
A new entry into the encrypted key map for <code>sharedMembersEncryptedKey</code>.</p><blockquote><p>This update will require a new DID-CID pair written to the chain.
This change will charge for the size of the new entry on IPFS as well as CID on-chain update</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="removecontentdid-name"><code>RemoveContent(did, name)</code><a class="hash-link" href="#removecontentdid-name" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-4">Parameters<a class="hash-link" href="#parameters-4" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The did of the bucket to update content on.</p><p><code>name (string)</code>
: The content name.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-4">Description<a class="hash-link" href="#description-4" title="Direct link to heading">‚Äã</a></h4><p>Removes content from a bucket.
This does not delete content from IPFS, but it removes the entry in the <code>content</code> map and <code>encryptedJwks</code> and map.</p><blockquote><p>Removing content, like updating, requires a single transaction on chain for updating the DID-CID pair for this bucket.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="deactivatebucketdid"><code>DeactivateBucket(did)</code><a class="hash-link" href="#deactivatebucketdid" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-5">Parameters<a class="hash-link" href="#parameters-5" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The bucket&#x27;s DID.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-5">Description<a class="hash-link" href="#description-5" title="Direct link to heading">‚Äã</a></h4><p>Sets the bucket&#x27;s <code>IsActive</code> field to false. Requires a transaction on-chain to update the DID-CID pair.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="getbucketdid"><code>GetBucket(did)</code><a class="hash-link" href="#getbucketdid" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-6">Parameters<a class="hash-link" href="#parameters-6" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The bucket&#x27;s DID.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-6">Description<a class="hash-link" href="#description-6" title="Direct link to heading">‚Äã</a></h4><p>Returns the bucket model for the given DID. No transactions on-chain are required.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="bucketexistsdid"><code>BucketExists(did)</code><a class="hash-link" href="#bucketexistsdid" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="parameters-7">Parameters<a class="hash-link" href="#parameters-7" title="Direct link to heading">‚Äã</a></h4><p><code>did (string)</code>
: The bucket&#x27;s DID.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="description-7">Description<a class="hash-link" href="#description-7" title="Direct link to heading">‚Äã</a></h4><p>Checks if a bucket exists for a given DID. No transactions on-chain are required.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/articles/reference/ADR-003.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/articles/reference/adr-002"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ADR-002</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/articles/reference/adr-004"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ADR-004</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#abstract" class="table-of-contents__link toc-highlight">Abstract</a></li><li><a href="#objectives" class="table-of-contents__link toc-highlight">Objectives</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a></li><li><a href="#concept" class="table-of-contents__link toc-highlight">Concept</a></li><li><a href="#bucket-model" class="table-of-contents__link toc-highlight">Bucket Model</a></li><li><a href="#bucket-api" class="table-of-contents__link toc-highlight">Bucket API</a><ul><li><a href="#createbucketlabel" class="table-of-contents__link toc-highlight"><code>CreateBucket(label)</code></a></li><li><a href="#updatelabeldid-new_label" class="table-of-contents__link toc-highlight"><code>UpdateLabel(did, new_label)</code></a></li><li><a href="#addcontentdid-name-encryptedcontent-sharedmembersencryptedkey" class="table-of-contents__link toc-highlight"><code>AddContent(did, name, encryptedContent, sharedMembersEncryptedKey)</code></a></li><li><a href="#updatecontentdid-name-encryptedcontent-sharedmembersencryptedkeys" class="table-of-contents__link toc-highlight"><code>UpdateContent(did, name, encryptedContent, sharedMembersEncryptedKeys)</code></a></li><li><a href="#removecontentdid-name" class="table-of-contents__link toc-highlight"><code>RemoveContent(did, name)</code></a></li><li><a href="#deactivatebucketdid" class="table-of-contents__link toc-highlight"><code>DeactivateBucket(did)</code></a></li><li><a href="#getbucketdid" class="table-of-contents__link toc-highlight"><code>GetBucket(did)</code></a></li><li><a href="#bucketexistsdid" class="table-of-contents__link toc-highlight"><code>BucketExists(did)</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sonr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://sonr.buzz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/SonrProtocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Specifications</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/sonr-io/sonr/wiki/ADR-001:-Sonr-DID-Specification" target="_blank" rel="noopener noreferrer" class="footer__link-item">DID Method<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.figma.com/file/wUulpz1zcRVcj1f2KMQjWB/Sonr-Architecture?node-id=0%3A1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Architecture<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/sonr-io/sonr" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Sonr Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0b530313.js"></script>
<script src="/assets/js/main.b537a16d.js"></script>
</body>
</html>